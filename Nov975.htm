<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script src="js/qqv34.js"></script>
  <script type="module" src="js/console.js"></script>
</head>
<body>
<script type="module">
//alert(3);qq.cl(89);
import {createFullscreenPanel} from 'https://slachinov.github.io/Lib/pan/1all1.js';
let m=createFullscreenPanel({});
qq.cl(1);
//=====

/**
 * Создает макет с верхней и средней панелями, расположенными вертикально и абсолютно позиционированными.
 *
 * @param {HTMLElement} parent - Родительский элемент для панелей (по умолчанию document.body)
 * @param {Object} topSkin - скин для верхней панели
 * @param {Object} middleSkin - скин для средней панели
 * @returns {Object} - { topPanel, middlePanel }
 */
export default function createTopMiddleLayout (parent, topSkin, middleSkin) {
  const parentElement = parent || document.body;


  // Верхняя панель
  const topPanelParams = {
    tag: 'div',
    style: {
      position: 'absolute',
      top: '0',
      left: '0',
      width: '100%',
      height: 'auto', // высота будет динамическая
    },
    parent: parentElement
  };
  const topPanel = window.qq.ce(topPanelParams, topSkin);


  // Средняя панель
  const middlePanelParams = {
    tag: 'div',
    style: {
      position: 'absolute',
      top: topPanel.offsetHeight + 'px',
      left: '0',
      width: '100%',
      bottom: '0', // занимает всё оставшееся место
      overflowY: 'auto',
    },
    parent: parentElement
  };
  const middlePanel = window.qq.ce(middlePanelParams, middleSkin);


  // Функция для динамического обновления высоты средней панели
  function updateMiddleHeight() {
    middlePanel.style.top = topPanel.offsetHeight + 'px';
  }


  // Наблюдатель за верхней панелью
  const topObserver = new ResizeObserver(() => updateMiddleHeight());
  topObserver.observe(topPanel);


  return [ topPanel, middlePanel ];
};
let pans=createTopMiddleLayout(m);
qq.cl(pans);let t=pans[0];
qq.ce({tag:'button',it:'load',parent:t});
qq.ce( pans[1] ,{style: {background:'green'}});
qq.ce({tag:'div',parent: pans[1],it:22+'\u2191'+'\u2193'
,style:{'margin-left':'20px','margin-top':'50px',width:'200px',height:'200px',background:'gray'}});
//=====
</script>
<script>//alert(0)</script>
</body>
</html>