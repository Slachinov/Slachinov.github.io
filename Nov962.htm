<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script src="js/qqv28.js"></script>
  <script type="module" src="js/console.js"></script>
</head>
<body>
qq5
<script type="module">
import {createFullscreenPanel} from 'https://slachinov.github.io/Lib/pan/1all1.js';
import {createTopBottomMiddleLayout} from 'https://slachinov.github.io/Lib/pan/3pv2.js';
import {createBottomTopLayout} from 'https://slachinov.github.io/Lib/pan/2pv0.js';
//--qq.cl('tratata');qq.er('error4');//alert( createFullscreenPanel);
let main=createFullscreenPanel({style:{background:'lightgray'}});
//alert(main);//alert(createTopBottomMiddleLayout);
let o= createTopBottomMiddleLayout(
  main,
  {style:{background:'orange'}},
  {style:{background:'gray'}},
  {style:{background:'blue'}}
); 


qq.ce({tag:'button',it:'Ppp4',parent:o[0]});
qq.ce({tag:'button',style:{'font-size':'54px'},it:'promt',parent:o[1]});


//alert(createBottomTopLayout);
let o1=createBottomTopLayout(o[2],{}, {style:{background:'lightgreen'}});
let edit = o1[1];


qq.ce({
  tag:'button',
  it:'EVAL',
  style:{margin:'5px'},
  parent:o1[0],
  event:{click:function(){eval(edit.innerText)}}
});


//==
qq.ce({
  tag:'button',
  it:'CLEAR',
  style:{margin:'5px'},
  parent:o1[0],
  event:{click:function(){edit.innerText="";}}
});


//===
qq.ce({
  tag:'button',
  it:'PROBEL',
  style:{margin:'5px'},
  parent:o1[0],
  event:{click:function(){checkWeirdSpaces(edit);}}
});


//==
// Проверка текста на странные пробелы
function checkWeirdSpaces(el) {
  el.innerText = el.innerText.replace(/\u00A0/g, ' ');
  const text = el.innerText;
  const weird = [];
  for (let i = 0; i < text.length; i++) {
    const code = text.charCodeAt(i);
    if (code !== 32 && /\s/.test(text[i])) {
      weird.push({index: i, char: text[i], code});
    }
  }
  if (weird.length) {
    qq.cl('Найдены странные пробелы:');
    weird.forEach(item => {
      qq.cl(`позиция ${item.index}, код ${item.code}, символ: "${item.char}"`);
    });
  } else {
    qq.cl('Странных пробелов нет');
  }
}


// Использование
//checkWeirdSpaces(edit);
//===
</script>
</body>
</html>