# GitHub Module Documentation


## Инициализация модуля


```javascript
import github from './github.js';


const gh = github({
  owner: 'username',      // обязательно - владелец репозитория
  repo: 'repository',     // обязательно - название репозитория
  token: 'your_token',    // обязательно - GitHub Personal Access Token
  branch: 'main'          // необязательно - ветка (по умолчанию 'main')
});
```


## Функции модуля


### 1. load(path, sha)
**Описание:** Загрузка файла с GitHub


**Параметры:**
- `path` (string) - обязательно - путь к файлу в репозитории (например, 'folder/file.txt')
- `sha` (string) - необязательно - SHA хеш файла


**Возвращает:**
```javascript
{
  content: "содержимое файла",
  sha: "sha_хеш_файла"
}
```


**Пример использования:**
```javascript
const file = await gh.load('docs/readme.md');
console.log(file.content);
```


---


### 2. save(path, content, message, sha)
**Описание:** Сохранение файла на GitHub


**Параметры (порядок важен):**
1. `path` (string) - обязательно - путь к файлу в репозитории
2. `content` (string) - обязательно - содержимое файла для сохранения
3. `message` (string) - необязательно - сообщение коммита (по умолчанию 'Update file')
4. `sha` (string) - необязательно - SHA хеш файла (если не указан, будет получен автоматически)


**Возвращает:** объект ответа GitHub API


**Пример использования:**
```javascript
await gh.save('docs/readme.md', 'Новый текст', 'Обновил документацию');
```


---


### 3. delete(path, sha, message)
**Описание:** Удаление файла на GitHub


**Параметры (порядок важен):**
1. `path` (string) - обязательно - путь к файлу в репозитории
2. `sha` (string) - необязательно - SHA хеш файла (если не указан, будет получен автоматически)
3. `message` (string) - необязательно - сообщение коммита (по умолчанию 'Delete file')


**Возвращает:** объект ответа GitHub API


**Пример использования:**
```javascript
await gh.delete('docs/old-file.md', null, 'Удалил устаревший файл');
```


---


### 4. getPath(targetPath)
**Описание:** Получение содержимого папки или файла по пути


**Параметры:**
- `targetPath` (string) - обязательно - путь к папке или файлу


**Возвращает:**
- Если папка - массив объектов:
```javascript
[
  {
    name: "имя_файла",
    path: "путь",
    type: "file" или "dir",
    size: размер,
    sha: "sha_хеш",
    url: "api_url",
    download_url: "url_скачивания"
  }
]
```


- Если файл - объект:
```javascript
{
  name: "имя_файла",
  path: "путь",
  content: "содержимое",
  sha: "sha_хеш",
  size: размер
}
```


**Пример использования:**
```javascript
// Получить список файлов в папке
const files = await gh.getPath('docs');


// Получить конкретный файл
const file = await gh.getPath('docs/readme.md');
```


---


## Важные замечания


1. **Обязательные параметры при инициализации:** owner, repo, token
2. **Поддержка UTF-8:** все функции корректно работают с русскими буквами
3. **Автоматическое получение SHA:** в функциях save и delete SHA можно не указывать
4. **Порядок параметров важен** - передавайте их в указанном порядке
5. **Необязательные параметры:** можно передать null или undefined для пропуска

