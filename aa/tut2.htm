<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<script src="../js/github.js"></script>
<script src="../js/qqv26.js"></script>
<script src='../js/qq.github.v3.js'></script>
<script src="js/idb.v1.js"></script>
<script></script></head>
<body>
<script>alert('version='+9);




</script>
<script type='module'>
import { createFullscreenPanel } from '/Lib/pan/1all1.js';
import {m,ls,gh,db} from '/Lib/pan/main.js';


import {createEditButton} from  '/aa/edit2.js';


import {createTopBottomMiddleLayout} from  '/Lib/pan/3pv2.js';






const grayPanel = createFullscreenPanel({tag:'div', style: {background: 'gray'}});


let mm=createTopBottomMiddleLayout (grayPanel,{style:{background:'blue'}},{style:{background:'green'}},{style:{background:'red'}});
m.top=mm[0];
m.blue=mm[0];
m.red=mm[1];
m.green=mm[2];
qq.ce({tag:'button',it:'tratata345',parent:mm[0]});




qq.ce({tag:'button',it:'tratata',parent:mm[1]});


//111
import {createBottomTopLayout}  from '/Lib/pan/2pv0.js';
let m0=createBottomTopLayout(mm[2] ,{style:{background:'brown'}},{style:{background:'lightgreen'}});
createEditButton(m0);


const yellowPanel = createFullscreenPanel({tag:'div', style:{ background: 'yellow', 'z-index': 1, overflow: 'auto'},event:{click:function(){this.hide()}}});




//begin


function createLocalStorageControls () {
  /* Очищаем содержимое верхней панели перед добавлением новых элементов */
  m.top.innerHTML = '';




  /* Кнопка "cl" */
  const clearButtonSkin = {
    tag: 'button',
    parent: m.top,
    style: {
      marginRight: '5px',
      fontSize: '0.8em'
    }
  };
  const clearButton = window.qq.ce(clearButtonSkin, { it: 'cl' });




  /* Инпут для значения */
  const inputSkin = {
    tag: 'input',
    parent: m.top,
    attr: {
      type: 'text'
    },
    style: {
      marginLeft: '5px',
      marginRight: '5px',
      fontSize: '1em',
      width: '60%' /* Примерная ширина */
    }
  };
  const valueInput = window.qq.ce(inputSkin);
  if (!ls) window.ls = {};
  ls.input = valueInput;




  /* Кнопка "load" */
  const loadButtonSkin = {
    tag: 'button',
    parent: m.top,
    style: {
      marginLeft: '5px',
      marginRight: '5px',
      fontSize: '0.8em'
    },
    event: {
      click: function() {
        if (ls && ls.input && m && m.edit) {
          const key = ls.input.value.trim();
          const value = localStorage.getItem(key);
          if (value !== null) {
            m.edit.innerText = value; /* Выводим содержимое в панель редактирования */
          }
        } else {
          console.error('Ошибка: ls, ls.input или m.edit не определены.');
        }
      }
    }
  };
  const loadButton = window.qq.ce(loadButtonSkin, { it: 'load' });




  /* Кнопка "all" */
  const allButtonSkin = {
    tag: 'button',
    parent: m.top,
    style: {
      marginLeft: '5px',
      fontSize: '0.8em'
    }
  };
  const allButton = window.qq.ce(allButtonSkin, { it: 'all' });


  /* Переход на новую строку */
  window.qq.ce({ tag: 'br', parent: m.top });


  /* Кнопка "search" */
  window.qq.ce({ tag: 'button', parent: m.top, it: 'search' });


  /* Чекбокс */
  window.qq.ce({ tag: 'input', parent: m.top, attr: { type: 'checkbox' } });


  /* Кнопка "write" (красный текст) */
  window.qq.ce({
    tag: 'button',
    parent: m.top,
    it: 'write',
    style: { color: 'red', marginLeft: '5px' },
    event: {
      click: function() {
        if (ls && ls.input && m && m.edit) {
          const key = ls.input.value.trim();
          const value = m.edit.innerText;
          localStorage.setItem(key, value);
        } else {
          console.error('Ошибка: ls, ls.input или m.edit не определены.');
        }
      }
    }
  });


  /* Кнопка "delete" (красный текст) */
  window.qq.ce({ tag: 'button', parent: m.top, it: 'delete', style: { color: 'red', marginLeft: '5px' } });


  /* Кнопка "write gh" (красный текст) */
  window.qq.ce({ tag: 'button', parent: m.top, it: 'write gh', style: { color: 'red', marginLeft: '5px' } });
}




createLocalStorageControls();
//end


</script>

